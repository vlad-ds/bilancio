version: 1
name: "Dealer Ring Baseline (100 traders, 3 dealers, 3 VBTs)"
description: "Self-contained dealer-ring scenario with 100 traders in a ring and ticketized payables."

ticket_size: 1

# Compact agent definitions
agents:
  - { id: CB, kind: central_bank, name: "Central Bank" }
  - { id: D_short, kind: dealer, name: "Dealer Short" }
  - { id: D_mid, kind: dealer, name: "Dealer Mid" }
  - { id: D_long, kind: dealer, name: "Dealer Long" }
  - { id: V_short, kind: vbt, name: "VBT Short" }
  - { id: V_mid, kind: vbt, name: "VBT Mid" }
  - { id: V_long, kind: vbt, name: "VBT Long" }
  - kind: household
    count: 100
    id_prefix: T
    name_prefix: "Trader "

# Initial actions: mint cash to T1; create ring payables of amount=100 due day 1 among 100 traders
initial_actions:
  - mint_cash: { to: T1, amount: 10000 }
  - create_ring_payables:
      from_prefix: T
      to_prefix: T
      count: 100
      amount: 100
      due_day: 1

buckets:
  - name: Short
    tau_range: [1, 3]
    M0: 1.0
    O0: 0.20
    phi_M: 1.0
    phi_O: 0.6
    guard_M_min: 0.0
    clip_nonneg_bid: true
    Xstar_target: 4
  - name: Mid
    tau_range: [4, 8]
    M0: 1.0
    O0: 0.30
    phi_M: 1.0
    phi_O: 0.6
    guard_M_min: 0.0
    clip_nonneg_bid: true
    Xstar_target: 4
  - name: Long
    tau_range: [9, null]
    M0: 1.0
    O0: 0.40
    phi_M: 1.0
    phi_O: 0.6
    guard_M_min: 0.0
    clip_nonneg_bid: true
    Xstar_target: 4

dealers: [D_short, D_mid, D_long]
vbts:    [V_short, V_mid, V_long]

shares:
  dealer: 0.25
  vbt: 0.50

flow:
  pi_sell: 0.5
  N_max: 3
  invest_horizon: 3
  cash_buffer: 1

run:
  mode: until_stable
  max_days: 5
  quiet_days: 1
